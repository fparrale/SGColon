import{a as I}from"./chunk-ABRIHUGC.js";import{a as T}from"./chunk-CURU7WTK.js";import{$ as x,A as p,B as b,Fa as y,G as h,H as S,Na as E,O as L,P as O,Q as i,V as f,W as _,Z as C,ba as k,ca as M,da as c,ea as r,fa as v,ga as P,ha as d,ia as u,ja as g,ka as s,ua as w}from"./chunk-LKTHQ3NI.js";var F=(o,n)=>n.code;function z(o,n){o&1&&v(0,"i",9)}function H(o,n){if(o&1){let e=P();c(0,"li",7),d("click",function(){let l=h(e).$implicit,a=u(2);return S(a.selectLanguage(l.code))}),c(1,"span",2),g(2),r(),c(3,"span",8),g(4),r(),f(5,z,1,0,"i",9),r()}if(o&2){let e,t,l,a=n.$implicit,m=u(2);C("active",a.code===((e=m.currentLang())==null?null:e.code)),_("aria-selected",a.code===((t=m.currentLang())==null?null:t.code)),i(2),s(a.flag),i(2),s(a.name),i(),x(a.code===((l=m.currentLang())==null?null:l.code)?5:-1)}}function B(o,n){if(o&1&&(c(0,"ul",5),k(1,H,6,6,"li",6,F),r()),o&2){let e=u();i(),M(e.availableLanguages)}}var D=class o{languageService=p(I);authService=p(T);elementRef=p(L);isOpen=!1;currentLang=y(()=>{let n=this.languageService.currentLanguage();return this.languageService.getTranslatedLanguages().find(e=>e.code===n)});get availableLanguages(){return this.languageService.getTranslatedLanguages()}onDocumentClick(n){this.elementRef.nativeElement.contains(n.target)||(this.isOpen=!1)}toggleDropdown(){this.isOpen=!this.isOpen}selectLanguage(n){let e=this.authService.getCurrentUser(),t=localStorage.getItem("playerId");e?this.languageService.setLanguage(n,"admin",e.id):t?this.languageService.setLanguage(n,"player",parseInt(t)):this.languageService.setLanguage(n),this.isOpen=!1}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=b({type:o,selectors:[["app-language-selector"]],hostBindings:function(e,t){e&1&&d("click",function(a){return t.onDocumentClick(a)},!1,O)},standalone:!0,features:[w],decls:8,vars:6,consts:[[1,"language-selector"],["aria-haspopup","listbox",1,"lang-toggle",3,"click"],[1,"lang-flag"],[1,"lang-code"],[1,"fas","fa-chevron-down"],["role","listbox",1,"lang-dropdown"],["role","option",1,"lang-option",3,"active"],["role","option",1,"lang-option",3,"click"],[1,"lang-name"],[1,"fas","fa-check"]],template:function(e,t){if(e&1&&(c(0,"div",0)(1,"button",1),d("click",function(){return t.toggleDropdown()}),c(2,"span",2),g(3),r(),c(4,"span",3),g(5),r(),v(6,"i",4),r(),f(7,B,3,0,"ul",5),r()),e&2){let l,a;i(),_("aria-expanded",t.isOpen),i(2),s((l=t.currentLang())==null?null:l.flag),i(2),s((a=t.currentLang())==null||a.code==null?null:a.code.toUpperCase()),i(),C("rotated",t.isOpen),i(),x(t.isOpen?7:-1)}},dependencies:[E],styles:[".language-selector[_ngcontent-%COMP%]{position:relative;display:inline-block}.lang-toggle[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem .875rem;background:#1e293bd9;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.15);border-radius:10px;color:#e2e8f0;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s ease;box-shadow:0 4px 12px #00000026}.lang-toggle[_ngcontent-%COMP%]:hover{background:#1e293bf2;border-color:#60a5fa66;box-shadow:0 4px 16px #0003}.lang-toggle[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px #3b82f680}.lang-flag[_ngcontent-%COMP%]{font-size:1.1rem;line-height:1}.lang-code[_ngcontent-%COMP%]{font-weight:600;letter-spacing:.5px}.lang-toggle[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.7rem;transition:transform .2s ease}.lang-toggle[_ngcontent-%COMP%]   i.rotated[_ngcontent-%COMP%]{transform:rotate(180deg)}.lang-dropdown[_ngcontent-%COMP%]{position:absolute;top:calc(100% + 4px);right:0;min-width:140px;background:#1e293b;border:1px solid rgba(255,255,255,.1);border-radius:8px;box-shadow:0 10px 25px #0000004d;list-style:none;margin:0;padding:.25rem;z-index:1000;animation:_ngcontent-%COMP%_dropdownFadeIn .15s ease}@keyframes _ngcontent-%COMP%_dropdownFadeIn{0%{opacity:0;transform:translateY(-8px)}to{opacity:1;transform:translateY(0)}}.lang-option[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.625rem .75rem;border-radius:6px;cursor:pointer;transition:background .15s ease;color:#e2e8f0}.lang-option[_ngcontent-%COMP%]:hover{background:#ffffff1a}.lang-option.active[_ngcontent-%COMP%]{background:#3b82f633;color:#60a5fa}.lang-option[_ngcontent-%COMP%]   .lang-name[_ngcontent-%COMP%]{flex:1;font-size:.875rem}.lang-option[_ngcontent-%COMP%]   i.fa-check[_ngcontent-%COMP%]{font-size:.75rem;color:#60a5fa}"]})};export{D as a};
