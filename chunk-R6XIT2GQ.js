import{Pa as u,_a as s,a as r,c as p,w as d,z as l}from"./chunk-LKTHQ3NI.js";var m=class a{constructor(e){this.http=e;this.apiUrl=s.apiBaseUrl}apiUrl;updateQuestion(e,t){let n={statement:t};return this.http.put(`${this.apiUrl}${s.apiEndpoints.admin.updateQuestion(e)}`,n)}verifyQuestion(e,t){let n={verified:t};return this.http.patch(`${this.apiUrl}${s.apiEndpoints.admin.verifyQuestion(e)}`,n)}verifyBulk(e){return this.http.post(`${this.apiUrl}/admin/questions/verify-bulk`,e)}unverifyBulk(){return this.http.post(`${this.apiUrl}/admin/questions/unverify-bulk`,{})}deleteBulk(e){return this.http.post(`${this.apiUrl}/admin/questions/delete-bulk`,e)}getPromptConfig(){return this.http.get(`${this.apiUrl}${s.apiEndpoints.admin.getPromptConfig}`)}updatePromptConfig(e,t,n,i){let o={prompt_text:e,temperature:t,max_questions_per_game:i||15};return n&&(o.preferred_ai_provider=n),this.http.put(`${this.apiUrl}${s.apiEndpoints.admin.updatePromptConfig}`,o)}getAvailableProviders(){return this.http.get(`${this.apiUrl}${s.apiEndpoints.admin.availableProviders}`)}createCategory(e,t){let n=r({name:e},t&&{description:t});return this.http.post(`${this.apiUrl}${s.apiEndpoints.admin.createCategory}`,n)}updateCategory(e,t,n){let i=r({name:t},n&&{description:n});return this.http.put(`${this.apiUrl}${s.apiEndpoints.admin.updateCategory(e)}`,i)}deleteCategory(e){return this.http.delete(`${this.apiUrl}${s.apiEndpoints.admin.deleteCategory(e)}`)}generateBatch(e,t,n,i="es"){let o={quantity:e,category_id:t,difficulty:n,language:i};return this.http.post(`${this.apiUrl}${s.apiEndpoints.admin.generateBatch}`,o)}getQuestions(e="active"){let t=e!=="active"?`?status=${e}`:"";return this.http.get(`${this.apiUrl}/admin/questions${t}`)}getCategories(){return this.http.get(`${this.apiUrl}/admin/categories`)}deleteQuestion(e){return this.http.delete(`${this.apiUrl}${s.apiEndpoints.admin.deleteQuestion(e)}`)}restoreQuestion(e){return this.http.patch(`${this.apiUrl}${s.apiEndpoints.admin.restoreQuestion(e)}`,{})}getDashboardStats(){return this.http.get(`${this.apiUrl}${s.apiEndpoints.admin.dashboardStats}`)}getBatchStatistics(){return this.http.get(`${this.apiUrl}${s.apiEndpoints.admin.batchStatistics}`)}getUnverifiedQuestions(e){let t=e?`${this.apiUrl}${s.apiEndpoints.admin.unverifiedQuestions}?batchId=${e}`:`${this.apiUrl}${s.apiEndpoints.admin.unverifiedQuestions}`;return this.http.get(t)}verifyBatch(e){return this.http.post(`${this.apiUrl}${s.apiEndpoints.admin.verifyBatch(e)}`,{})}importCsv(e){let t=new FormData;return t.append("csv_file",e),this.http.post(`${this.apiUrl}${s.apiEndpoints.admin.importCsv}`,t)}downloadCsvTemplate(){return new p(e=>{this.http.get(`${this.apiUrl}${s.apiEndpoints.admin.csvTemplate}`,{responseType:"blob"}).subscribe({next:t=>{let n=window.URL.createObjectURL(t),i=document.createElement("a");i.href=n,i.download="plantilla_preguntas.csv",i.click(),window.URL.revokeObjectURL(n),e.next(),e.complete()},error:t=>{e.error(t)}})})}editExplanation(e,t){return this.http.put(`${this.apiUrl}${s.apiEndpoints.admin.editExplanation(e)}`,{text:t})}getQuestionFull(e){return this.http.get(`${this.apiUrl}${s.apiEndpoints.admin.getQuestionFull(e)}`)}updateQuestionFull(e,t){return this.http.put(`${this.apiUrl}${s.apiEndpoints.admin.updateQuestionFull(e)}`,t)}listAdmins(){return this.http.get(`${this.apiUrl}${s.apiEndpoints.admin.listAdmins}`)}getAdmin(e){return this.http.get(`${this.apiUrl}${s.apiEndpoints.admin.getAdmin(e)}`)}createAdmin(e){return this.http.post(`${this.apiUrl}${s.apiEndpoints.admin.createAdmin}`,e)}updateAdmin(e,t){return this.http.put(`${this.apiUrl}${s.apiEndpoints.admin.updateAdmin(e)}`,t)}deleteAdmin(e){return this.http.delete(`${this.apiUrl}${s.apiEndpoints.admin.deleteAdmin(e)}`)}toggleAdminStatus(e,t){return this.http.patch(`${this.apiUrl}${s.apiEndpoints.admin.toggleAdminStatus(e)}`,{is_active:t})}static \u0275fac=function(t){return new(t||a)(l(u))};static \u0275prov=d({token:a,factory:a.\u0275fac,providedIn:"root"})};export{m as a};
